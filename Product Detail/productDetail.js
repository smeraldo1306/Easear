
var listItem = [
    {   id: 1,
        brand: 'Marshall',
        photo: '../assets/img/Products/Marshall/Motif-ANC.png',
        model: 'Marshal Motif A.N.C',
        price: 4990000,
        form: 'In-ear',
        isWireless: 'true',
        isGamingType: 'false',
        rate: 4,
        discount: 0.2,
        desc: `
        <h3>Thông tin nổi bật</h3>
        <ul>
            <li>
                <p>Driver: Dynamic 6mm</p>
            </li>
            <li>
                <p>Trở kháng: 16 Ω</p>
            </li>
            <li>
                <p>Tần số phản hồi: 20 Hz - 20 kHz</p>
            </li>
            <li>
                <p>Công nghệ chống ồn chủ động ANC</p>
            </li>
            <li>
                <p>Kết nối Bluetooth 5.2</p>
            </li>
            <li>
                <p>Case sạc đạt chuẩn IPX4, Ear-bud đạt chuẩn IPX5</p>
            </li>
        </ul>`
    },
    {   id: 2,
        brand: 'SONY',
        photo: '../assets/img/Products/SONY/XBA-N1AP.png',
        model: 'SONY XBA-N1AP',
        price: 4990000,
        form: 'In-ear',
        isWireless: 'false',
        isGamingType: 'false',
        rate: 3.9,
        discount: 0.25,
        desc: `
        <h3>Thông tin nổi bật</h3>
        <ul>
            <li>
                <p>Driver: HD Hybrid</p>
            </li>
            <li>
                <p>Trở kháng: 32 Ω</p>
            </li>
            <li>
                <p>Tần số phản hồi: 4 Hz - 40 kHz</p>
            </li>
            <li>
                <p>Độ nhạy: 102 dB/mW, 105dB/mW</p>
            </li>
            <li>
                <p>Dây loại chữ Y có thể tháo rời dài 1,2 m</p>
            </li>
        </ul>`
    },
    {   id: 3,
        brand: 'Apple',
        photo: '../assets/img/Products/Apple/AirPods-Max.png',
        model: 'Apple AirPods Max',
        price: 13900000,
        form: 'Over-ear',
        isWireless: 'true',
        isGamingType: 'false',
        rate: 4.2,
        discount: 0.35,
        desc: `
        <h3>Thông tin nổi bật</h3>
        <ul>
            <li>
                <p>Thời lượng pin 20 giờ</p>
            </li>
            <li>
                <p>Tích hợp trợ lý ảo Siri</p>
            </li>
            <li>
                <p>Công nghệ chống ồn chủ động ANC</p>
            </li>
            <li>
                <p>Kết nối Bluetooth 5.0</p>
            </li>
            <li>
                <p>Case sạc đạt chuẩn IPX4, Ear-bud đạt chuẩn IPX5</p>
            </li>
        </ul>`
    },
    {   id: 4,
        brand: 'ASUS',
        photo: '../assets/img/Products/ASUS/ROG-Cetra-True-Wireless.png',
        model: 'ASUS ROG Cetra True Wireless',
        price: 1890000,
        form: 'In-ear',
        isWireless: 'true',
        isGamingType: 'true',
        rate: 4.9,
        discount: 0,
        desc: `
        <h3>Thông tin nổi bật</h3>
        <ul>
            <li>
                <p>Thời lượng pin 21.5 giờ</p>
            </li>
            <li>
                <p>Tích hợp sạc không dây</p>
            </li>
            <li>
                <p>Công nghệ chống ồn chủ động ANC</p>
            </li>
            <li>
                <p>Kết nối Bluetooth 5.0</p>
            </li>
            <li>
                <p>Ear-bud đạt chuẩn IPX4</p>
            </li>
        </ul>`
    },
    {   id: 5,
        brand: 'JBL',
        photo: '../assets/img/Products/JBL/Quantum-400.png',
        model: 'JBL Quantum 400',
        price: 1990000,
        form: 'Over-ear',
        isWireless: 'false',
        isGamingType: 'true',
        rate: 4.5,
        discount: 0.15,
        desc: `
        <h3>Thông tin nổi bật</h3>
        <ul>
            <li>
                <p>Màng loa 40mm</p>
            </li>
            <li>
                <p>Công nghệ JBL QuantumSOUND Signature</p>
            </li>
            <li>
                <p>Hỗ trợ microphone</p>
            </li>
            <li>
                <p>Tương thích với mọi loại thiết bị</p>
            </li>
        </ul>`
    },
    {   id: 6,
        brand: 'JBL',
        photo: '../assets/img/Products/JBL/T500BT.png',
        model: 'JBL T500BT',
        price: 1090000,
        form: 'On-ear',
        isWireless: 'true',
        isGamingType: 'false',
        rate: 3.5,
        discount: 0.1,
        desc: `
        <h3>Thông tin nổi bật</h3>
        <ul>
            <li>
                <p>Driver: Sensitivity at 1kHz</p>
            </li>
            <li>
                <p>Trở kháng: 32 Ω</p>
            </li>
            <li>
                <p>Tần số phản hồi: 20 Hz - 20 kHz</p>
            </li>
            <li>
                <p>Hỗ trợ điều khiển từ xa</p>
            </li>
            <li>
                <p>Kết nối Bluetooth 4.1</p>
            </li>
            <li>
                <p>Thời lượng pin tối đa 16 giờ</p>
            </li>
        </ul>`
    },
    {   id: 7,
        brand: 'KZ',
        photo: '../assets/img/Products/KZ/EDX-Pro.png',
        model: 'KZ EDX Pro',
        price: 250000,
        form: 'In-ear',
        isWireless: 'false',
        isGamingType: 'false',
        rate: 2.5,
        discount: 0,
        desc: `
        <h3>Thông tin nổi bật</h3>
        <ul>
            <li>
                <p>Driver: Dynamic 12mm</p>
            </li>
            <li>
                <p>Trở kháng: 24 Ω</p>
            </li>
            <li>
                <p>Tần số phản hồi: 10 Hz - 20 kHz</p>
            </li>
            <li>
                <p>Chiều dài dây 1.25m</p>
            </li>
            <li>
                <p>Hỗ trợ microphone</p>
            </li>
        </ul>`
    },
    {   id: 8,
        brand: 'Marshall',
        photo: '../assets/img/Products/Marshall/Minor-III.png',
        model: 'Marshall Minor III Black',
        price: 3290000,
        form: 'In-ear',
        isWireless: 'true',
        isGamingType: 'false',
        rate: 4.2,
        discount: 0,
        desc: `
        <h3>Thông tin nổi bật</h3>
        <ul>
            <li>
                <p>Driver: Dynamic 12mm</p>
            </li>
            <li>
                <p>Trở kháng: 32 Ω</p>
            </li>
            <li>
                <p>Tần số phản hồi: 20 Hz - 20 kHz</p>
            </li>
            <li>
                <p>Thời lượng pin tối đa 25 giờ</p>
            </li>
            <li>
                <p>Kết nối Bluetooth 5.2</p>
            </li>
            <li>
                <p>Case sạc đạt chuẩn IPX4, Ear-bud đạt chuẩn IPX5</p>
            </li>
        </ul>`
    },
    {   id: 9,
        brand: 'Apple',
        photo: '../assets/img/Products/Apple/EarPods-Lightning.png',
        model: 'Apple EarPods Lightning',
        price: 590000,
        form: 'In-ear',
        isWireless: 'false',
        isGamingType: 'false',
        rate: 4,
        discount: 0.15,
        desc: `
        <h3>Thông tin nổi bật</h3>
        <ul>
            <li>
                <p>Thời lượng pin 20 giờ</p>
            </li>
            <li>
                <p>Tích hợp trợ lý ảo Siri</p>
            </li>
            <li>
                <p>Công nghệ chống ồn chủ động ANC</p>
            </li>
            <li>
                <p>Kết nối Bluetooth 5.0</p>
            </li>
            <li>
                <p>Case sạc đạt chuẩn IPX4, Ear-bud đạt chuẩn IPX5</p>
            </li>
        </ul>`
    },
    {   id: 10,
        brand: 'SONY',
        photo: '../assets/img/Products/SONY/WH-XB910N.png',
        model: 'SONY WH-XB910N',
        price: 4590000,
        form: 'Over-ear',
        isWireless: 'true',
        isGamingType: 'false',
        rate: 4.6,
        discount: 0.3,
        desc: `
        <h3>Thông tin nổi bật</h3>
        <ul>
            <li>
                <p>Âm thanh EXTRA BASS™ và công nghệ chống ồn kỹ thuật số</p>
            </li>
            <li>
                <p>DSEE™ khôi phục âm thanh tần số cao và âm thanh nhỏ dần tinh tế bị mất khi nén</p>
            </li>
            <li>
                <p>Tần số phản hồi: 20 Hz - 20 kHz</p>
            </li>
            <li>
                <p>Nghe nhạc suốt ngày với thời gian sử dụng pin đến 30 giờ</p>
            </li>
            <li>
                <p>Kết nối Bluetooth 5.2</p>
            </li>
            <li>
                <p>Màng loa 40mm</p>
            </li>
        </ul>`
    },
    {   id: 11,
        brand: 'ASUS',
        photo: '../assets/img/Products/ASUS/TUF-H3.png',
        model: 'ASUS TUF H3',
        price: 990000,
        form: 'Over-ear',
        isWireless: 'false',
        isGamingType: 'true',
        rate: 5,
        discount: 0.1,
        desc: `
        <h3>Thông tin nổi bật</h3>
        <ul>
            <li>
                <p>Driver: Dynamic 12mm</p>
            </li>
            <li>
                <p>Trở kháng: 32 Ω</p>
            </li>
            <li>
                <p>Tần số phản hồi: 20 Hz - 20 kHz</p>
            </li>
            <li>
                <p>Thời lượng pin tối đa 25 giờ</p>
            </li>
            <li>
                <p>Kết nối Bluetooth 5.2</p>
            </li>
            <li>
                <p>Case sạc đạt chuẩn IPX4, Ear-bud đạt chuẩn IPX5</p>
            </li>
        </ul>`
    },
    {   id: 12,
        brand: 'SONY',
        photo: '../assets/img/Products/SONY/MDR-1AM2.png',
        model: 'SONY MDR-1AM2',
        price: 6990000,
        form: 'Over-ear',
        isWireless: 'false',
        isGamingType: 'false',
        rate: 5,
        discount: 0.3,
        desc: `
        <h3>Thông tin nổi bật</h3>
        <ul>
            <li>
                <p>Màng loa polymer tinh thể</p>
            </li>
            <li>
                <p>Tương thích Âm thanh độ phân giải cao</p>
            </li>
            <li>
                <p>Tần số phản hồi: 20 Hz - 20 kHz</p>
            </li>
            <li>
                <p>Công nghệ điều khiển Beat Response Control</p>
            </li>
            <li>
                <p>Vành tai kiểu xoay dễ mang theo</p>
            </li>
        </ul>`
    },
    {   id: 13,
        brand: 'KZ',
        photo: '../assets/img/Products/KZ/ZSN-Pro-X.png',
        model: 'KZ ZSN Pro X',
        price: 490000,
        form: 'In-ear',
        isWireless: 'false',
        isGamingType: 'false',
        rate: 5,
        discount: 0,
        desc: `
        <h3>Thông tin nổi bật</h3>
        <ul>
            <li>
                <p>Driver: Dynamic 12mm</p>
            </li>
            <li>
                <p>Trở kháng: 24 Ω</p>
            </li>
            <li>
                <p>Tần số phản hồi: 10 Hz - 20 kHz</p>
            </li>
            <li>
                <p>Chiều dài dây 1.25m</p>
            </li>
            <li>
                <p>Hỗ trợ microphone</p>
            </li>
        </ul>`
    },
    {   id: 14,
        brand: 'ASUS',
        photo: '../assets/img/Products/ASUS/ROG-Strix-Go.png',
        model: 'ASUS ROG Strix Go',
        price: 1990000,
        form: 'Over-ear',
        isWireless: 'false',
        isGamingType: 'true',
        rate: 4.1,
        discount: 0,
        desc: `
        <h3>Thông tin nổi bật</h3>
        <ul>
            <li>
                <p>Driver: Dynamic 12mm</p>
            </li>
            <li>
                <p>Trở kháng: 32 Ω</p>
            </li>
            <li>
                <p>Tần số phản hồi: 20 Hz - 20 kHz</p>
            </li>
            <li>
                <p>Thời lượng pin tối đa 25 giờ</p>
            </li>
            <li>
                <p>Kết nối Bluetooth 5.2</p>
            </li>
            <li>
                <p>Case sạc đạt chuẩn IPX4, Ear-bud đạt chuẩn IPX5</p>
            </li>
        </ul>`
    },
    {   id: 15,
        brand: 'Marshall',
        photo: '../assets/img/Products/Marshall/Major-IV.png',
        model: 'Marshall Major IV Brown',
        price: 3690000,
        form: 'On-ear',
        isWireless: 'true',
        isGamingType: 'false',
        rate: 4.7,
        discount: 0.15,
        desc: `
        <h3>Thông tin nổi bật</h3>
        <ul>
            <li>
                <p>Driver: Dynamic 12mm</p>
            </li>
            <li>
                <p>Trở kháng: 32 Ω</p>
            </li>
            <li>
                <p>Tần số phản hồi: 20 Hz - 20 kHz</p>
            </li>
            <li>
                <p>Thời lượng pin tối đa 25 giờ</p>
            </li>
            <li>
                <p>Kết nối Bluetooth 5.2</p>
            </li>
            <li>
                <p>Case sạc đạt chuẩn IPX4, Ear-bud đạt chuẩn IPX5</p>
            </li>
        </ul>`

    },
    {   id: 16,
        brand: 'Marshall',
        photo: '../assets/img/Products/Marshall/Mode-EQ.png',
        model: 'Marshall Mode EQ',
        price: 1990000,
        form: 'In-ear',
        isWireless: 'false',
        isGamingType: 'false',
        rate: 3.7,
        discount: 0.1,
        desc: `
        <h3>Thông tin nổi bật</h3>
        <ul>
            <li>
                <p>Driver: Dynamic 12mm</p>
            </li>
            <li>
                <p>Trở kháng: 32 Ω</p>
            </li>
            <li>
                <p>Tần số phản hồi: 20 Hz - 20 kHz</p>
            </li>
            <li>
                <p>Hỗ trợ microphone</p>
            </li>
            <li>
                <p>Ear-bud đạt chuẩn IPX4</p>
            </li>
        </ul>`
    },
    {   id: 17,
        brand: 'JBL',
        photo: '../assets/img/Products/JBL/Quantum-50.png',
        model: 'JBL Quantum 50',
        price: 690000,
        form: 'In-ear',
        isWireless: 'false',
        isGamingType: 'true',
        rate: 3.6,
        discount: 0,
        desc: `
        <h3>Thông tin nổi bật</h3>
        <ul>
            <li>
                <p>Driver: Dynamic 8.6mm</p>
            </li>
            <li>
                <p>Hỗ trợ microphone</p>
            </li>
            <li>
                <p>Tần số phản hồi: 20 Hz - 20 kHz</p>
            </li>
            <li>
                <p>Công nghệ độc quyền JBL QuantumSOUND Signature</p>
            </li>
        </ul>`
    },
    {   id: 18,
        brand: 'JBL',
        photo: '../assets/img/Products/JBL/T600BTNC.png',
        model: 'JBL T600BTNC',
        price: 1550000,
        form: 'On-ear',
        isWireless: 'true',
        isGamingType: 'false',
        rate: 5,
        discount: 0,
        desc: `
        <h3>Thông tin nổi bật</h3>
        <ul>
            <li>
                <p>Driver: Sensitivity at 1kHz</p>
            </li>
            <li>
                <p>Trở kháng: 32 Ω</p>
            </li>
            <li>
                <p>Tần số phản hồi: 20 Hz - 20 kHz</p>
            </li>
            <li>
                <p>Hỗ trợ điều khiển từ xa</p>
            </li>
            <li>
                <p>Kết nối Bluetooth 4.1</p>
            </li>
            <li>
                <p>Thời lượng pin tối đa 16 giờ</p>
            </li>
        </ul>`
    },
    {   id: 19,
        brand: 'Apple',
        photo: '../assets/img/Products/Apple/AirPods-Pro.png',
        model: 'Apple AirPods Pro',
        price: 7990000,
        form: 'In-ear',
        isWireless: 'true',
        isGamingType: 'false',
        rate: 4.3,
        discount: 0.25,
        desc: `
        <h3>Thông tin nổi bật</h3>
        <ul>
            <li>
                <p>Thời lượng pin 20 giờ</p>
            </li>
            <li>
                <p>Tích hợp trợ lý ảo Siri</p>
            </li>
            <li>
                <p>Công nghệ chống ồn chủ động ANC</p>
            </li>
            <li>
                <p>Kết nối Bluetooth 5.0</p>
            </li>
            <li>
                <p>Case sạc đạt chuẩn IPX4, Ear-bud đạt chuẩn IPX5</p>
            </li>
        </ul>`
    },
    {   id: 20,
        brand: 'SONY',
        photo: '../assets/img/Products/SONY/WI-C100.png',
        model: 'SONY WI-C100',
        price: 650000,
        form: 'In-ear',
        isWireless: 'true',
        isGamingType: 'false',
        rate: 4.4,
        discount: 0,
        desc: `
        <h3>Thông tin nổi bật</h3>
        <ul>
            <li>
                <p>Màng loa 9mm</p>
            </li>
            <li>
                <p>Thời gian sử dụng pin tối đa 25 giờ</p>
            </li>
            <li>
                <p>Tần số phản hồi: 20 Hz - 20 kHz</p>
            </li>
            <li>
                <p>Công nghệ khôi phục âm tần DSEE</p>
            </li>
            <li>
                <p>Kết nối Bluetooth 5.2</p>
            </li>
            <li>
                <p>Ear-bud đạt chuẩn IPX4</p>
            </li>
        </ul>`
    },
    {   id: 21,
        brand: 'Marshall',
        photo: '../assets/img/Products/Marshall/Monitor-II-ANC.png',
        model: 'Marshall Monitor II A.N.C',
        price: 3190000,
        form: 'In-ear',
        isWireless: 'true',
        isGamingType: 'false',
        rate: 3.2,
        discount: 0.1,
        desc: `
        <h3>Thông tin nổi bật</h3>
        <ul>
            <li>
                <p>Driver: Dynamic 12mm</p>
            </li>
            <li>
                <p>Trở kháng: 32 Ω</p>
            </li>
            <li>
                <p>Tần số phản hồi: 20 Hz - 20 kHz</p>
            </li>
            <li>
                <p>Thời lượng pin tối đa 25 giờ</p>
            </li>
            <li>
                <p>Kết nối Bluetooth 5.2</p>
            </li>
            <li>
                <p>Case sạc đạt chuẩn IPX4, Ear-bud đạt chuẩn IPX5</p>
            </li>
        </ul>`
    },
    {   id: 22,
        brand: 'ASUS',
        photo: '../assets/img/Products/ASUS/ROG-Cetra-2-Core.png',
        model: 'ASUS ROG Cetra 2 Core',
        price: 1290000,
        form: 'In-ear',
        isWireless: 'false',
        isGamingType: 'false',
        rate: 4.8,
        discount: 0.1,
        desc: `
        <h3>Thông tin nổi bật</h3>
        <ul>
            <li>
                <p>Màng loa 9mm</p>
            </li>
            <li>
                <p>Thời gian sử dụng pin tối đa 25 giờ</p>
            </li>
            <li>
                <p>Tần số phản hồi: 20 Hz - 20 kHz</p>
            </li>
            <li>
                <p>Công nghệ khôi phục âm tần DSEE</p>
            </li>
            <li>
                <p>Kết nối Bluetooth 5.2</p>
            </li>
            <li>
                <p>Ear-bud đạt chuẩn IPX4</p>
            </li>
        </ul>`
    },
    {   id: 23,
        brand: 'SONY',
        photo: '../assets/img/Products/SONY/MDR-ZX110AP.png',
        model: 'SONY MDR-ZX110AP',
        price: 540000,
        form: 'On-ear',
        isWireless: 'false',
        isGamingType: 'false',
        rate: 3.9,
        discount: 0,
        desc: `
        <h3>Thông tin nổi bật</h3>
        <ul>
            <li>
                <p>Màng loa dạng vòm 30mm</p>
            </li>
            <li>
                <p>Nam châm neodymium</p>
            </li>
            <li>
                <p>Tần số phản hồi: 12 Hz - 22 kHz</p>
            </li>
            <li>
                <p>Công nghệ khôi phục âm tần DSEE</p>
            </li>
        </ul>`
    },
]

var isLogin = localStorage.getItem("isLogin");

// Render thông tin sản phẩm từ session storage
const itemClicked = sessionStorage.getItem('Clicked');

var photo = listItem[itemClicked].photo;
var model = listItem[itemClicked].model;
var price = listItem[itemClicked].price;
var discount = listItem[itemClicked].discount;
var rate = listItem[itemClicked].rate;
var desc = listItem[itemClicked].desc;

document.querySelector("title").innerText = `${model}`;
const container = document.querySelector("main .row");
container.innerHTML = '';
container.innerHTML = `
    <div class="col-12 col-sm-6 col-md-7 item">
    <img src="${photo}" alt="">
        <h2 class="model">${model}</h2>
        <h5 class="d-flex align-items-center">${rate}
            <img src="../assets/img/star-rate.png" class="star-rate">
        </h5>
        <h3 class="price">${new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(price)}</h3>
        <form action="" class="add-to-cart-form " id="${itemClicked}">
          <button type="button" class="btn btn-outline-dark add-to-cart-btn">Thêm vào giỏ hàng</button>
      </form>
    </div>
    <div class="desc col-12 col-sm-6 col-md-5">${desc}</div>
    `;


// Thêm sản phẩm vào giỏ hàng
var itemSelected = {
    "index": "",
    "photo": "",
    "model": "",
    "price": "",
    "amount": ""
};

const addToCartForm = document.querySelector(".add-to-cart-form");
const liveToast = document.getElementById('liveToast');
const toastBody = liveToast.querySelector(".toast-body");

addToCartForm.addEventListener("click", function() {
    if(isLogin == "true") {
        key = addToCartForm.id;
        itemSelected.index = key;
        itemSelected.photo = addToCartForm.parentElement.querySelector("img").src;
        itemSelected.model = addToCartForm.parentElement.querySelector(".model").innerText;
        itemSelected.price = addToCartForm.parentElement.querySelector(".price").innerText;
        var currentAmount = JSON.parse(localStorage.getItem(key));
        if(currentAmount === null) {
            itemSelected.amount = 1;
        }
        else {
            itemSelected.amount = currentAmount.amount + 1;
        }
        localStorage.setItem(key, JSON.stringify(itemSelected));
        const toast = new bootstrap.Toast(liveToast);
        liveToast.style.border = "1px solid green";
        liveToast.style.background = "rgba(209, 231, 221, 0.9)";
        toastBody.innerHTML = `<p>Thêm thành công sản phẩm ${itemSelected.model} vào giỏ hàng</p>`
        toast.show()
    }
    else {
        const toast = new bootstrap.Toast(liveToast);
        liveToast.style.border = "1px solid red";
        liveToast.style.background = "rgba(244, 193, 193, 0.9)";
        toastBody.innerHTML = `<p>Bạn chưa đăng nhập. Vui lòng đăng nhập để tiếp tục.</p>`
        toast.show();
    }
})
       